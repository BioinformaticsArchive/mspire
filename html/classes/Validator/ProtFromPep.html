<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: Validator::ProtFromPep</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">Validator::ProtFromPep</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../files/lib/validator/prot_from_pep_rb.html">
                lib/validator/prot_from_pep.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                <a href="../Validator.html">
                Validator
               </a>
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
calculates protein hit precision based on peptide precision
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000066">normal_prothit_precision</a>&nbsp;&nbsp;
      <a href="#M000063">num_peps_per_protein</a>&nbsp;&nbsp;
      <a href="#M000062">prothit_precision</a>&nbsp;&nbsp;
      <a href="#M000064">worstcase_prothit_precision</a>&nbsp;&nbsp;
      <a href="#M000065">worstcase_prothit_precision_by_numbers</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000066" class="method-detail">
        <a name="M000066"></a>

        <div class="method-heading">
          <a href="ProtFromPep.src/M000066.html" target="Code" class="method-signature"
            onclick="popupCode('ProtFromPep.src/M000066.html');return false;">
          <span class="method-name">normal_prothit_precision</span><span class="method-args">( peps, num_false_pephits, opts={})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
normal as in a standard normal distribution of peptide hits per protein
they are distributed randomly and the precision is assumed to take on a
standard normal distribution. <a
href="ProtFromPep.html#M000063">num_peps_per_protein</a> is an array of the
number of peptides per protein hit (these are the true hits) assumes that
the number follows a gaussian distribution (binomial distributions tend
toward gaussians, I believe, at large N) returns [mean_precision,
stdev_precision] options:
</p>
<pre>
  :num_its =&gt; Integer (default: 10)
</pre>
<p>
if num_iterations is set at 1, then only the precision will be returned
though random, the same seed is always used to start this process, meaning
that the same results will be produced on consecutive attempts.
</p>
<pre>
  validator.normal_prothit_precision(peps, 13, :num_its =&gt; 1) # -&gt; 0.95433
  validator.normal_prothit_precision(peps, 13, :num_its =&gt; 2) # -&gt; [0.92002, 1.2223]
</pre>
        </div>
      </div>

      <div id="method-M000063" class="method-detail">
        <a name="M000063"></a>

        <div class="method-heading">
          <a href="ProtFromPep.src/M000063.html" target="Code" class="method-signature"
            onclick="popupCode('ProtFromPep.src/M000063.html');return false;">
          <span class="method-name">num_peps_per_protein</span><span class="method-args">(peps)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
returns an array of the number of peptide hits in each protein
</p>
        </div>
      </div>

      <div id="method-M000062" class="method-detail">
        <a name="M000062"></a>

        <div class="method-heading">
          <a href="ProtFromPep.src/M000062.html" target="Code" class="method-signature"
            onclick="popupCode('ProtFromPep.src/M000062.html');return false;">
          <span class="method-name">prothit_precision</span><span class="method-args">(peps, num_false_pephits, opts={})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
calculate protein precision based on the number of false peptides returns
the precision based on the number of proteins *completely false* calculates
the worst precision by assuming that proteins with the fewest peptides are
all false (before prots with more pephits) note that this approaches the
worst, but is not guaranteed to be worst unless each pephit maps to a
single protein hit. [worst, normal_mean, normal_stddev] options
</p>
<pre>
   :num_its_normal =&gt; Integer, # num iterations for normal (d: 10)
   :num_its_worstcase =&gt; Integer, # num iterations for worstcase (d: 10)
</pre>
        </div>
      </div>

      <div id="method-M000064" class="method-detail">
        <a name="M000064"></a>

        <div class="method-heading">
          <a href="ProtFromPep.src/M000064.html" target="Code" class="method-signature"
            onclick="popupCode('ProtFromPep.src/M000064.html');return false;">
          <span class="method-name">worstcase_prothit_precision</span><span class="method-args">(peps, num_false_pephits, opts = {})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
returns the worstcase precision. This assumes that every small protein with
the fewest peptide hits is completely &#8216;filled&#8217; with incorrect
hits in preference to any higher hit protein. Where each peptide hit maps
to a single protein, this is guaranteed to be worst-case. If this
doesn&#8216;t hold, there are some extreme cases where a poorer precision
could be generated, but this is still probably fairly close. Thus, a
slightly different answer may be generated each time. &#8230;variation is
produced by shuffling the order of the proteins from which peptides are
removed within groups of proteins having the same number of peptides. This
method does NOT require that the prothits be updated to reflect only those
pephits being passed in.
</p>
<pre>
  validator.worstcase_prothit_precision(peps, 14, 1) # =&gt; 0.232111
</pre>
<p>
options:
</p>
<pre>
  :num_its =&gt; Integer (default: 10) number of times to run (finds minimum)
  :one_prot_per_pep =&gt; true | *false   assumes each peptide maps to a
                                       single protein
</pre>
        </div>
      </div>

      <div id="method-M000065" class="method-detail">
        <a name="M000065"></a>

        <div class="method-heading">
          <a href="ProtFromPep.src/M000065.html" target="Code" class="method-signature"
            onclick="popupCode('ProtFromPep.src/M000065.html');return false;">
          <span class="method-name">worstcase_prothit_precision_by_numbers</span><span class="method-args">(num_peps_per_prot, num_false_pephits)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
returns the precision of the worst possible outcome
</p>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>