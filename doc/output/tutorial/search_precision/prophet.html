<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <title>Prophet</title>
    <link href="../../default.css" rel="stylesheet" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  </head>
  <body>
    <div id="logo">
        <a href=../../index.html><img src=../../images/mspire_logo.png border="0" alt="mspire - mass spectrometry proteomics in ruby"/></a>
  </div>
    <div id="header">
      <h1>Prophet</h1>
    </div>

    <div id="headerbar" class="bar">
        <!-- <span class="left">Location: <a href="../../index.html" title="mspire">mspire</a> / <a href="../index.html" title="Tutorials">Tutorials</a> / <a href="./index.html" title="Search Precision">Search Precision</a> / <a href="./prophet.html" title="Prophet">Prophet</a></span> -->
      <!--<span class="right">Language: <a href="./prophet.html" title="en">en</a></span>-->
      <div style="clear:both"></div>
    </div>

    <div id="menu">
        <div class="webgen-menu-vert "><ul><li ><a href="../../index.html" title="Home">Home</a></li><li class="webgen-menu-submenu"><a href="../../install/index.html" title="Install">Install</a></li><li class="webgen-menu-submenu"><a href="../../ms/index.html" title="MS">MS</a></li><li class="webgen-menu-submenu"><a href="../../spec_id/index.html" title="SpecID">SpecID</a></li><li class="webgen-menu-submenu webgen-menu-submenu-inhierarchy"><a href="../index.html" title="Tutorials">Tutorials</a><ul><li class="webgen-menu-submenu webgen-menu-submenu-inhierarchy"><a href="./index.html" title="Search Precision">Search Precision</a><ul><li ><a href="./cat_db_search.html" title="Cat db search">Cat db search</a></li><li class="webgen-menu-item-selected"><a href="./prophet.html" title="Prophet">Prophet</a></li></ul></li></ul></li></ul></div>
        <a style="font-size:130%; padding-left:20px" href="rdoc/index.html">rdoc</a>
        <br/>
        <a style="font-size:85%; padding-left:20px" href="http://rubyforge.org/projects/mspire/">Rubyforge Project Page</a>
        <br/>
        <br/>
        <br/>
        <br/>
        <a href="http://www.ruby-lang.org/en/"><img style="padding-left:20px" src=../../images/ruby_logo_small.png border="0" alt="Ruby Programming Language"/></a>
    </div>

    <div id="body">
      <h1>Running ProteinProphet</h1>

<h2>1. Convert to pepXML</h2>

<p>convert directly from the .SRF files into the pepxml files.  Just list all the
.SRF files that should belong together:</p>

<pre><code>bioworks_to_pepxml.rb &lt;file1&gt;.srf ... -o /cygdrive/c/Inetpub/wwwroot/ISB/data --copy_mzxml -m /cygdrive/c/Xcalibur/data/&lt;mydata_dir&gt;
</code></pre>

<p>You may want to make soft links to your isb data directory and Xcalibur data directory (e.g., <code>ln -s /cygdrive/c/Inetpub/wwwroot/ISB/data ~/isb</code>).  Then your command might look like this:</p>

<pre><code>bioworks_to_pepxml.rb *.srf -o ~/isb --copy_mzxml -m ~/data/&lt;your_folder&gt;
</code></pre>

<p>We write files to where the webserver can get at them (-o is -outdir).  The
last two options ensure that mzXML files are created and located where the
webserver can access them.  Type <code>bioworks_to_pepxml.rb</code> for more details.</p>

<h2>2. Run Protein Prophet</h2>

<h3>For TPP versions >= 3.0</h3>

<p>If you are running TPP version 3 or greater, you can then open up a browser
(taking you to <a href="http://localhost:1441/tpp-bin/tpp_gui.pl">the default web address for
TPP</a>).  Then:</p>

<pre><code>1. Navigate: Analysis Pipeline -&gt; Analyze Peptides
2. Add the pepXML files you created in step 1.
3. Leave the RUN PeptideProphet box checked
4. check the 'Run ProteinProphet afterwards' box
5. hit the 'Run XInteract' button at the bottom to run it
</code></pre>

<p>After the run is completed, view the results like this:</p>

<pre><code>1. Navigate: Tools -&gt; Browse Files
2. Click 'view' by the file: 'interact-prot.shtml'
</code></pre>

<p>To run Pep3D, click on a peptide sequence and click the 'Generate Pep3D image'
button.  The images should be created automatically (parameters can be
adjusted as desired).</p>

<h3>For TPP versions &lt; 3.0:</h3>

<p>Go to the webserver tpp data folder and run protein prophet:</p>

<pre><code>xinteract -N&lt;my_run&gt;.xml -Op sequest/myfolder/pepxml/*.xml
</code></pre>

<p>Type <code>xinteract</code> for more details.  <em>NOTE:</em> it is very important that the path
to the pepxml files be given starting with a soft link so the server thinks
the data is mounted under the webserver.</p>

<p>The full protein results are written to '<my_run>-prot.xml' and can be viewed
by following the instructions output by xinteract.</p>

<h2>3. Summarize the Results (Optional)</h2>

<p>While the ISB viewers are very good at giving an in-depth analysis, a simple
summary (including the number of proteins identified at a given false ID rate) </p>

<pre><code>protein_summary.rb &lt;my_run&gt;-prot.xml -c 5.0
</code></pre>

<p>This will summarize protein hits (no modifications shown) and give the number
of proteins identified at a 5 percent false identification rate.  Type
<code>protein_summary.rb</code> for more details.</p>
    </div>

    <div id="footer" class="bar">
      Last update: <i>Thursday, November 20 10:13:29 MST 2008</i>
    </div>
  </body>
</html>
